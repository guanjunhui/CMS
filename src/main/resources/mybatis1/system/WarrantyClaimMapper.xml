<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="WarrantyClaimMapper">	<!-- 后台接口,站点列表 -->	<select id="warrantyClaimlistPage" resultType="pd" parameterType="page">		SELECT			C.ID AS id,			C.REGISTRATION_CODE AS regCode,			C.FULL_NAME AS name,			C.EMAIL AS email,			C.PROBLEM AS problem,			C.COMMENTS AS comments,			C.RESOLVE AS resolve,			C.RECOMMEND AS recommend		FROM			WEB_WARRANTY_CLAIM C
		<trim prefix="WHERE" prefixOverrides="AND|OR">			<if test="pd.keywords!=null and pd.keywords!=''">				C.FULL_NAME LIKE CONCAT(CONCAT('%', #{pd.keywords}), '%')			</if>			<if test="pd.status!=null and pd.status!=''">				AND C.STATUS = #{pd.status}			</if>		</trim>		ORDER BY 			SUBMIT_TIME DESC	</select>
	<!-- 修改推荐设置 -->	<update id="updateRecommendStatus" parameterType="pd">		UPDATE WEB_WARRANTY_CLAIM		SET RECOMMEND=#{recommend},		RECOMMEND_TIME=#{recommendTime}		WHERE ID=#{id}	</update>	<!-- 根据栏目id删除保修索赔 -->
	<delete id="delteWarrantyClaim">		delete from		WEB_WARRANTY_CLAIM		where ID = #{id}	</delete>
	<insert id="saveWarrantyClaim" parameterType="pd">		insert into WEB_WARRANTY_CLAIM			(REGISTRATION_CODE,FULL_NAME,EMAIL,PROBLEM,COMMENTS,RESOLVE,SUBMIT_TIME,RECOMMEND)		values		( #{regCode},#{name},#{email},#{problem},#{Comments},#{product},#{submitTime},#{recommend})	</insert>		<!-- 批量删除保修索赔 -->	<delete id="delAllWarrantyClaim" parameterType="String">		delete from		WEB_WARRANTY_CLAIM		where 			ID in		<foreach item="id" index="index" collection="array" open="(" separator="," close=")">                 #{id}		</foreach>	</delete>		<!-- 根据id查询详情 -->	<select id="detailById" parameterType="string" resultType="pd">		SELECT			ID id,			REGISTRATION_CODE registrationCode,			FULL_NAME fullName,			EMAIL email,			PROBLEM problem,			COMMENTS comments,			RESOLVE resolve,			RECOMMEND recommend,			SUBMIT_TIME submitTime,			RECOMMEND_TIME recommendTime		FROM 			WEB_WARRANTY_CLAIM		WHERE			ID = #{id}	</select><!--   ============ 以上是新的业务    ================   --></mapper>